<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <link rel="icon" href="img/favicon114.png" sizes="32x32" />
    <link rel="icon" href="img/favicon114.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="img/favicon114.png" />
    <meta name="msapplication-TileImage" content="img/favicon114.png" />

    <title>Transparentdesign Offer Generator</title>

    <script>

        var addButton = "<svg width=\"28\" height=\"28\" viewBox=\"0 0 56 56\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\">\n" +
            "                <defs>\n" +
            "                    <linearGradient id=\"addGradient\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\n" +
            "                        <stop offset=\"0\" stop-color=\"#00aac8\"/>\n" +
            "                        <stop offset=\"1\" stop-color=\"#0096be\"/>\n" +
            "                    </linearGradient>\n" +
            "                </defs>\n" +
            "                <rect x=\"0.5\" y=\"0.5\" width=\"55\" height=\"55\" rx=\"12\" fill=\"url(#addGradient)\" filter=\"url(#shadow)\"/>\n" +
            "                <g stroke=\"#ffffff\" stroke-width=\"3.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n" +
            "                    <path d=\"M28 17.5 L28 38.5\" />\n" +
            "                    <path d=\"M17.5 28 L38.5 28\" />\n" +
            "                </g>\n" +
            "            </svg>";

        var deleteButton = "<svg width=\"28\" height=\"28\" viewBox=\"0 0 56 56\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\">\n" +
            "    <defs>\n" +
            "      <!-- Farbverlauf Rot -->\n" +
            "      <linearGradient id=\"deleteGradient\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\n" +
            "        <stop offset=\"0\" stop-color=\"#e35b5b\"/>\n" +
            "        <stop offset=\"1\" stop-color=\"#c94040\"/>\n" +
            "      </linearGradient>\n" +
            //"      <filter id=\"shadow-del\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n" +
            //"        <feDropShadow dx=\"0\" dy=\"4\" stdDeviation=\"6\" flood-opacity=\"0.18\"/>\n" +
            //"      </filter>\n" +
            "    </defs>\n" +
            "\n" +
            "    <!-- Hintergrund -->\n" +
            "    <rect x=\"0.5\" y=\"0.5\" width=\"55\" height=\"55\" rx=\"12\" fill=\"url(#deleteGradient)\" filter=\"url(#shadow-del)\"/>\n" +
            "\n" +
            "    <!-- Weißes Minus -->\n" +
            "    <line x1=\"17.5\" y1=\"28\" x2=\"38.5\" y2=\"28\" stroke=\"#ffffff\" stroke-width=\"3.6\" stroke-linecap=\"round\"/>\n" +
            "  </svg>";

        function deletePosition(posId) {
            document.getElementById(posId).remove();
        }

        function createDivWithClassname(classname) {
            let divElement = document.createElement('div');
            divElement.classList.add(classname);
            return divElement;
        }

        function createInputWithTypeAndId(type, id, name = "", value = "") {
            let InputElement = document.createElement('input');
            InputElement.type = type;
            InputElement.id = id;
            if (name) {
                InputElement.name = name;
            }
            if (value) {
                InputElement.value = value;
            }
            return InputElement;
        }

        function createSelectOptionAndAddToList(value, text, selectElement, selected = false) {
            let optionElement = document.createElement('option');
            optionElement.value = value;
            optionElement.innerHTML = text;
            optionElement.selected = selected;
            selectElement.appendChild(optionElement);
            return optionElement;
        }

        function calculateNewPosNr() {
            let posElements = document.getElementsByName("positionHiddenPos");

            let maxPos = posElements.length * 10;
            if (posElements) {
                posElements.forEach(pos => {
                    let intValue =  parseInt(pos.value, 10);
                    maxPos = (intValue > maxPos) ? intValue : maxPos;
                })
            }

            return maxPos + 10;
        }

        function isNumeric(str) {
            if (typeof str != "string") return false // we only process strings!
            return !isNaN(str) && // use type coercion to parse the _entirety_ of the string (`parseFloat` alone does not do this)...
                !isNaN(parseFloat(str)) // ...and ensure strings of whitespace fail
        }

        function calcGesamtPreis(posNumber) {
            console.log("PosNumber= " + posNumber);
            let mengeElement = document.getElementById('positionMengeInput' + posNumber);
            let preisElement = document.getElementById('positionPreisInput' + posNumber);


            if (!mengeElement || ! preisElement) {
                document.getElementById("positionGesamtpreisInput" + posNumber).value = "";
                return;
            }

            let mengeValueString = mengeElement.value;
            let preisValueString = preisElement.value;
            console.log("mengeValueString= " + mengeValueString);
            console.log("preisValueString= " + preisValueString);
            console.log("-------------------------");

            if (!isNumeric(mengeValueString) || !isNumeric(preisValueString)) {
                document.getElementById("positionGesamtpreisInput" + posNumber).value = "";
                return;
            }

            mengeValueNumber = parseFloat(mengeValueString);
            preisValueNumber = parseFloat(preisValueString);

            let gesamtPreisNumber = mengeValueNumber * preisValueNumber;

            document.getElementById("positionGesamtpreisInput" + posNumber).value = gesamtPreisNumber;
        }

        function addPosition() {
            let posContainer = document.getElementById("positionenContainer");
            let newPosNumber = calculateNewPosNr();

            let singlePositionContainerDiv = createDivWithClassname('singlePositionContainerDivClass');
            singlePositionContainerDiv.id = "positionenContainerDiv" + newPosNumber;
            posContainer.appendChild(singlePositionContainerDiv);

            let positionDeleteButtonDiv = createDivWithClassname('positionDeleteButtonDivClass');
            positionDeleteButtonDiv.innerHTML = deleteButton;
            positionDeleteButtonDiv.addEventListener('click', () => deletePosition(singlePositionContainerDiv.id));
            singlePositionContainerDiv.appendChild(positionDeleteButtonDiv);

            // Position - Pos
            let positionPosDiv = createDivWithClassname('positionPosDivClass');
            positionPosDiv.innerHTML = newPosNumber;
            let positionHiddenPosIdInput = createInputWithTypeAndId("hidden", "positionHiddenPosId" + newPosNumber, "positionHiddenPos", newPosNumber + "");
            positionPosDiv.appendChild(positionHiddenPosIdInput);
            singlePositionContainerDiv.appendChild(positionPosDiv);

            // Baustein
            let positionBausteinDiv = createDivWithClassname('positionBausteinDivClass');
            let positionBausteinSelect = document.createElement('select');
            positionBausteinSelect.id = "positionBausteinSelect" + newPosNumber;
            createSelectOptionAndAddToList("D", "D", positionBausteinSelect);
            createSelectOptionAndAddToList("F", "F", positionBausteinSelect);
            createSelectOptionAndAddToList("T", "T", positionBausteinSelect);
            createSelectOptionAndAddToList("Z", "Z", positionBausteinSelect);
            positionBausteinDiv.appendChild(positionBausteinSelect);
            singlePositionContainerDiv.appendChild(positionBausteinDiv);

            // Artikel Nr
            let positionArtikelNrDiv = createDivWithClassname("positionArtikelNrDivClass");
            let positionArtikelNrInput = createInputWithTypeAndId("text", "positionArtikelNrInput" + newPosNumber);
            positionArtikelNrDiv.appendChild(positionArtikelNrInput);
            singlePositionContainerDiv.appendChild(positionArtikelNrDiv);

            // Bezeichnung
            let positionBezeichnungDiv = createDivWithClassname('positionBezeichnungDivClass');
            let positionBezeichnungInput = createInputWithTypeAndId("text", "positionBezeichnungInput" + newPosNumber);
            positionBezeichnungDiv.appendChild(positionBezeichnungInput);
            singlePositionContainerDiv.appendChild(positionBezeichnungDiv);

            // Länge
            let positionLengthDiv = createDivWithClassname('positionLengthDivClass');
            let positionLengthInput = createInputWithTypeAndId("number", "positionLengthInput" + newPosNumber);
            positionLengthDiv.appendChild(positionLengthInput);
            singlePositionContainerDiv.appendChild(positionLengthDiv);

            // Breite
            let positionWidthDiv = createDivWithClassname('positionWidthDivClass');
            let positionWidthInput = createInputWithTypeAndId("number", "positionWidthInput" + newPosNumber);
            positionWidthDiv.appendChild(positionWidthInput);
            singlePositionContainerDiv.appendChild(positionWidthDiv);

            // Anzahl
            let positionAnzahlDiv = createDivWithClassname('positionAnzahlDivClass');
            let positionAnzahlInput = createInputWithTypeAndId("number", "positionAnzahlInput" + newPosNumber);
            positionAnzahlDiv.appendChild(positionAnzahlInput);
            singlePositionContainerDiv.appendChild(positionAnzahlDiv);

            // Menge
            let positionMengeDiv = createDivWithClassname('positionMengeDivClass');
            let positionMengeInput = createInputWithTypeAndId("number", "positionMengeInput" + newPosNumber);
            positionMengeInput.addEventListener('change', () => calcGesamtPreis(newPosNumber));
            positionMengeDiv.appendChild(positionMengeInput);
            singlePositionContainerDiv.appendChild(positionMengeDiv);

            // Einheit
            let positionEinheitDiv = createDivWithClassname('positionEinheitDivClass');
            let positionEinheitList = document.createElement('select');
            positionEinheitList.id = "positionEinheitSelect" + newPosNumber;
            createSelectOptionAndAddToList("", "", positionEinheitList);
            createSelectOptionAndAddToList("Stück", "Stück", positionEinheitList);
            createSelectOptionAndAddToList("m²", "m²", positionEinheitList);
            createSelectOptionAndAddToList("m", "m", positionEinheitList);
            createSelectOptionAndAddToList("Set", "Set", positionEinheitList);
            createSelectOptionAndAddToList("Pau", "Pau", positionEinheitList);
            createSelectOptionAndAddToList("Stk", "Stk", positionEinheitList);
            createSelectOptionAndAddToList("Std", "Std", positionEinheitList);
            createSelectOptionAndAddToList("lfm", "lfm", positionEinheitList);
            createSelectOptionAndAddToList("Paar", "Paar", positionEinheitList);
            createSelectOptionAndAddToList("min", "min", positionEinheitList);
            createSelectOptionAndAddToList("km", "km", positionEinheitList);
            positionEinheitDiv.appendChild(positionEinheitList);
            singlePositionContainerDiv.appendChild(positionEinheitDiv);

            // Preis
            let positionPreisDiv = createDivWithClassname('positionPreisDivClass');
            let positionPreisInput = createInputWithTypeAndId("number", "positionPreisInput" + newPosNumber);
            positionPreisInput.addEventListener('change', () => calcGesamtPreis(newPosNumber));
            positionPreisDiv.appendChild(positionPreisInput);
            singlePositionContainerDiv.appendChild(positionPreisDiv);

            // Rabatt
            let positionRabattDiv = createDivWithClassname('positionRabattDivClass');
            let positionRabattInput = createInputWithTypeAndId("number", "positionRabattInput" + newPosNumber);
            positionRabattDiv.appendChild(positionRabattInput);
            singlePositionContainerDiv.appendChild(positionRabattDiv);

            // Gesamtpreis  = Preis * Menge
            let positionGesamtpreisDiv = createDivWithClassname('positionGesamtpreisDivClass');
            let positionGesamtpreisInput = createInputWithTypeAndId("number", "positionGesamtpreisInput" + newPosNumber);
            positionGesamtpreisDiv.appendChild(positionGesamtpreisInput);
            singlePositionContainerDiv.appendChild(positionGesamtpreisDiv);
    }

    function createXmlElement(document, parentElement, name, innerHtml = "", id, tag) {
        let element = document.createElement(tag);

        if (name) {
            element.setAttribute("name", name);
        }

        if (id) {
            element.setAttribute("id", id);
        }

        if (innerHtml) {
            element.innerHTML = innerHtml;
        }

        parentElement.appendChild(element);
        
        return element;
    }

    function createXmlField(document, parentElement, name, innerHtml = "") {
        return createXmlElement(document, parentElement, name, innerHtml, "", "field");
    }

    function createXmlObject(document, parentElement, name, innerHtml = "", id) {
        return createXmlElement(document, parentElement, name, innerHtml, id, "object");
    }

    function doCreateOffer() {
            let xmlOffDoc = document.implementation.createDocument("", "", null);

            let businessobjectsRootElement = createXmlElement(xmlOffDoc, xmlOffDoc, "", "", "", "businessobjects");

            // Offer / Angebot Object
            let objOfferElem = createXmlObject(xmlOffDoc, businessobjectsRootElement, "Angebot", "", "32");

            // AngebotArt
            createXmlField(xmlOffDoc, objOfferElem, "AngebotArt", "0");

            // AngebotTyp
            createXmlField(xmlOffDoc, objOfferElem, "AngebotTyp", "");

            // MitarbeiterNr
            createXmlField(xmlOffDoc, objOfferElem, "MitarbeiterNr", document.getElementById("MitarbeiterNr").value);

            // IhreZeichen
            createXmlField(xmlOffDoc, objOfferElem, "IhreZeichen", document.getElementById("IhreZeichen").value);

            // Lieferzeit
            createXmlField(xmlOffDoc, objOfferElem, "Lieferzeit", document.getElementById("Lieferzeit").value);

            // SachkontoNr
            createXmlField(xmlOffDoc, objOfferElem, "SachkontoNr", "4022");

            // MwStNr
            createXmlField(xmlOffDoc, objOfferElem, "MwStNr", "20");

            // LiefBedText
            createXmlField(xmlOffDoc, objOfferElem, "LiefBedText", document.getElementById("LiefBedText").value);

            //let fieldNr1 = xmlOffDoc.createElement("field");
            //fieldNr1.setAttribute("name", "Nr");
            //fieldNr1.innerHTML = "K259397";
            //objOfferElem.appendChild(fieldNr1);

            // Versandart
            createXmlField(xmlOffDoc, objOfferElem, "Versandart", document.getElementById("Versandart").value);
    
            // Versandvermerk
            createXmlField(xmlOffDoc, objOfferElem, "Versandvermerk", document.getElementById("Versandvermerk").value);

            // ZahlBedText
            createXmlField(xmlOffDoc, objOfferElem, "ZahlBedText", document.getElementById("ZahlBedText").value);

            // ZahlTage
            let zahlBedTextSelectElement = document.getElementById("ZahlBedText")
            let option = zahlBedTextSelectElement.options[zahlBedTextSelectElement.selectedIndex];
            let fieldZahlTage1 = xmlOffDoc.createElement("field");
            createXmlField(xmlOffDoc, objOfferElem, "ZahlTage", option.getAttribute("zahlTage"));

            // Adresse BEGIN
            let adresseElement = createXmlObject(xmlOffDoc, objOfferElem, "Adresse", "", "")


            // ApartnerName
            createXmlField(xmlOffDoc, adresseElement, "ApartnerName", document.getElementById("adresseApartnerName").value);

            // Email
            createXmlField(xmlOffDoc, adresseElement, "Email", document.getElementById("adresseemail").value);

            // Firma1
            createXmlField(xmlOffDoc, adresseElement, "Firma1", document.getElementById("adresseFirma1").value);

            // Firma2
            createXmlField(xmlOffDoc, adresseElement, "Firma2", document.getElementById("adresseFirma2").value);

            // Lkz
            createXmlField(xmlOffDoc, adresseElement, "Lkz", document.getElementById("adresseLkz").value);

            // Ort
            createXmlField(xmlOffDoc, adresseElement, "Ort", document.getElementById("adresseOrt").value);

            // Plz
            createXmlField(xmlOffDoc, adresseElement, "Plz", document.getElementById("adressePlz").value);

            // Strasse
            createXmlField(xmlOffDoc, adresseElement, "Strasse", document.getElementById("adresseStrasse").value);

            // Telefon
            createXmlField(xmlOffDoc, adresseElement, "Telefon", document.getElementById("adresseTel").value);

            // Adresse END

            // Positionen BEGIN
            let posElements = document.getElementsByName("positionHiddenPos");
            if (posElements) {
                posElements.forEach(pos => {
                    let posNumber = pos.value;

                    // object position
                    let posElement = createXmlObject(xmlOffDoc, objOfferElem, "Position", "", "");

                    // PosNr
                    createXmlField(xmlOffDoc, posElement, "PosNr", posNumber);

                    // Baustein
                    createXmlField(xmlOffDoc, posElement, "Baustein", document.getElementById("positionBausteinSelect" + posNumber).value);

                    // ArtikelNr
                    createXmlField(xmlOffDoc, posElement, "ArtikelNr", document.getElementById("positionArtikelNrInput" + posNumber).value);

                    // Bezeichnung
                    createXmlField(xmlOffDoc, posElement, "Bezeichnung", document.getElementById("positionBezeichnungInput" + posNumber).value);

                    freieFelderElement = createXmlObject(xmlOffDoc, posElement, "FreieFelder", "")

                    freiesFeldePosLaengeElement = createXmlObject(xmlOffDoc, freieFelderElement, "FreiesFeld", "")
                    createXmlField(xmlOffDoc, freiesFeldePosLaengeElement, "Name", "PosLaenge");
                    createXmlField(xmlOffDoc, freiesFeldePosLaengeElement, "Wert", document.getElementById("positionLengthInput" + posNumber).value);

                    freiesFeldePosLaengeEinheitElement = createXmlObject(xmlOffDoc, freieFelderElement, "FreiesFeld", "")
                    createXmlField(xmlOffDoc, freiesFeldePosLaengeEinheitElement, "Name", "PosLaengeEinheit");
                    createXmlField(xmlOffDoc, freiesFeldePosLaengeEinheitElement, "Wert", "mm");

                    freiesFeldePosBreiteElement = createXmlObject(xmlOffDoc, freieFelderElement, "FreiesFeld", "")
                    createXmlField(xmlOffDoc, freiesFeldePosBreiteElement, "Name", "PosBreite");
                    createXmlField(xmlOffDoc, freiesFeldePosBreiteElement, "Wert", document.getElementById("positionWidthInput" + posNumber).value);

                    freiesFeldePosBreiteEinheitElement = createXmlObject(xmlOffDoc, freieFelderElement, "FreiesFeld", "")
                    createXmlField(xmlOffDoc, freiesFeldePosBreiteEinheitElement, "Name", "PosBreiteEinheit");
                    createXmlField(xmlOffDoc, freiesFeldePosBreiteEinheitElement, "Wert", "mm");

                    freiesFeldePosAnzahlEinheitElement = createXmlObject(xmlOffDoc, freieFelderElement, "FreiesFeld", "")
                    createXmlField(xmlOffDoc, freiesFeldePosAnzahlEinheitElement, "Name", "PosAnzahl");
                    createXmlField(xmlOffDoc, freiesFeldePosAnzahlEinheitElement, "Wert", document.getElementById("positionAnzahlInput" + posNumber).value);

                    // Menge
                    createXmlField(xmlOffDoc, posElement, "Menge", document.getElementById("positionMengeInput" + posNumber).value);

                    // Einheit
                    createXmlField(xmlOffDoc, posElement, "Einheit", document.getElementById("positionEinheitSelect" + posNumber).value);

                    // Preis
                    createXmlField(xmlOffDoc, posElement, "Preis", document.getElementById("positionPreisInput" + posNumber).value);

                    // Rabatt
                    createXmlField(xmlOffDoc, posElement, "Rabatt", document.getElementById("positionRabattInput" + posNumber).value);

                    // Gesamtpreis
                    createXmlField(xmlOffDoc, posElement, "Gesamtpreis", document.getElementById("positionGesamtpreisInput" + posNumber).value);

                    // LangtextHtml
                    createXmlField(xmlOffDoc, posElement, "LangtextHtml", "TODO Langer Text HTML");

                    // MwStNr
                    createXmlField(xmlOffDoc, posElement, "MwStNr", "20");

                    // MwStSatz
                    createXmlField(xmlOffDoc, posElement, "MwStSatz", "20");

                    // SachkontoNr
                    createXmlField(xmlOffDoc, posElement, "SachkontoNr", "4022");
                })
            }
            // Positionen BEGIN

            let serializer = new XMLSerializer();
            let xmlOfferDocString = serializer.serializeToString(xmlOffDoc);

            xmlOfferDocString = "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n" + formatXml(xmlOfferDocString, "  ");

            document.getElementById("offerXml").innerHTML = xmlOfferDocString;
        }

        /**
         * thx to arcturus on Stackoverflow
         * https://stackoverflow.com/questions/376373/pretty-printing-xml-with-javascript
         * @param xml the XML String
         * @param tab intent optional indent value, default is tab (\t)
         * @returns formated XML
         */
        function formatXml(xml, tab) {
            let formatted = '', indent= '';
            tab = tab || '\t';
            xml.split(/>\s*</).forEach(function(node) {
                if (node.match( /^\/\w/ )) indent = indent.substring(tab.length); // decrease indent by one 'tab'
                formatted += indent + '<' + node + '>\r\n';
                if (node.match( /^<?\w[^>]*[^\/]$/ )) indent += tab;              // increase indent
            });
            return formatted.substring(1, formatted.length-3);
        }

        function switchReiterAdresse(idOfEnabledButtons, idOfEnabledContent) {
            document.getElementById("reiterAdresse").classList.remove("reiterSelectedElementDiv");
            document.getElementById("reiterLieferanschrift").classList.remove("reiterSelectedElementDiv");
            document.getElementById("reiterRechnungsanschrift").classList.remove("reiterSelectedElementDiv");
            document.getElementById(idOfEnabledButtons).classList.add("reiterSelectedElementDiv");

            document.getElementById("reiterContentAdresse").style.display = "none";
            document.getElementById("reiterContentLieferanschrift").style.display = "none";
            document.getElementById("reiterContentRechnungsanschrift").style.display = "none";
            document.getElementById(idOfEnabledContent).style.display = "";
        }

        function onClickAdresseReiter() {
            switchReiterAdresse("reiterAdresse", "reiterContentAdresse");
        }

        function onClickLieferanschriftReiter() {
            switchReiterAdresse("reiterLieferanschrift", "reiterContentLieferanschrift");
        }

        function onClickRechnungsanschriftReiter() {
            switchReiterAdresse("reiterRechnungsanschrift", "reiterContentRechnungsanschrift");
        }

        document.addEventListener("DOMContentLoaded", function() {

        })

    </script>

</head>
<body style="margin: 0px; ">

<div style="display: flex; flex-flow: row; background-color: #ffdc14; background: linear-gradient(135deg, rgba(255,205,0,1) 0%, rgba(255,220,20,1) 35%, rgba(255,205,0,1) 100%);padding-left: 20px; justify-content: space-between;height:100px">
    <div style="display: flex; flex-flow: column;">
        <h1 style="display: flex;margin-top: 5px;margin-bottom: 2px;font-family: Khand, Helvetia, Arial, sans-serif; font-size: 34px; font-weight: 600; color:#000000;">TD Offer Generator</h1>
        <div style="display: flex; margin-top: 0px;margin-bottom: 15px;">Version 0.1.2&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;12.09.2025</div>
    </div>
    <img src="img/td_header.png" height="150px" style="; display: flex; justify-content: right; align-self: center;filter: drop-shadow(8px 8px 40px #FFB214);">
</div>

<style>
    .fullFormElementDiv {
        display: flex;
        flex-direction: row;
        margin: 5px;
    }

    .labelFormElementDiv {
        display: flex;
        width: 150px;
    }

    .inputFormElementDiv {
        display: flex;
        width: 500px;
    }

    .formAtAllDiv {
        display: flex;
        flex-direction: column;
        margin-top: 10px;
        margin-left: auto;
        margin-right: auto;
        max-width: 800px;
    }

    .inputElement {
        display: flex;
        width: 100%;
    }

    .adressContainerDiv {
        display: flex;
        flex-direction: column;
        margin: 5px;
        padding-top: 0px;
        padding-left: 0px;
        padding-right: 10px;
        padding-bottom: 10px;
        border : solid 1px #565656;
    }

    .adressReiterDiv {
        display: flex;
        flex-direction: column;
    }

    .reiterButtonContainerDiv {
        display: flex;
        flex-direction: row;
    }
    .reiterElementDiv {
        width: 150px;
        display: flex;
        margin-top: 0px;
        margin-left: 0px;
        margin-right: 0px;
        margin-bottom: 10px;
        cursor: pointer;
        border-top: solid 1px #565656;
        border-left: solid 1px #565656;
        border-bottom: solid 2px #565656;
        border-right: solid 2px #565656;
        background: #ffffff;
        padding-top: 10px;
        padding-bottom: 10px;
        justify-content: center;
    }

    .reiterSelectedElementDiv {
        border-top-width: 2px;
        border-left-width: 2px;
        border-bottom-width: 1px;
        border-right-width: 1px;
        background: #cdcdcd;
    }

    .positionenTextHeadlineDiv {
        display: flex;
    }

    .positionenHeadlineContainerDiv {
        display: flex;
        align-items: center;
    }

    .addPositionenButtonDiv {
        display: flex;
        cursor: pointer;
        width:28px;
        height: 28px
    }

    .positionenContainerDiv {
        display: flex;
        flex-direction: column;
    }

    .singlePositionContainerDivClass {
        display: flex;
        flex-direction: row;
    }

    .positionDeleteButtonDivClass {
        display: flex;
        cursor: pointer;
        width:28px;
        height: 28px
    }

    .positionPosDivClass {
        display: flex;
        margin-top: auto;
        margin-bottom: auto;
    }

    .positionBausteinDivClass {
        display: flex;
    }

    .positionArtikelNrDivClass {
        display: flex;
    }

    .positionBezeichnungDivClass {
        display: flex;
    }

    .positionLengthDivClass {
        display: flex;
    }

    .positionWidthDivClass {
        display: flex;
    }

    .positionAnzahlDivClass {
        display: flex;
    }

    .positionMengeDivClass {
        display: flex;
    }

    .positionEinheitDivClass {
        display: flex;
    }

    .positionPreisDivClass {
        display: flex;
    }

    .positionRabattDivClass {
        display: flex;
    }

    .positionGesamtpreisDivClass {
        display: flex;
    }
</style>

<div style="" class="formAtAllDiv">

    <!-- MitarbeiterNr -->
    <div style="" class="fullFormElementDiv">
        <div style="" class="labelFormElementDiv">
            <label for="MitarbeiterNr">Mitarbeiter:</label>
        </div>
        <div style="" class="inputFormElementDiv">
            <select id="MitarbeiterNr" name="MitarbeiterNr" class="inputElement">
                <option value=""></option>
                <option value="LST">Ludwig</option>
                <option value="RRI">Richard</option>
                <option value="SSC">Silvia</option>
                <option value="MMU">Martina</option>
            </select>
        </div>
    </div>

    <!-- Versandart -->
    <div style="" class="fullFormElementDiv">
        <div style="" class="labelFormElementDiv">
            <label for="Versandart">Versandart:</label>
        </div>
        <div style="" class="inputFormElementDiv">
            <select id="Versandart" name="Versandart" class="inputElement">
                <option value=""></option>
                <option value="AA">Abholung Aviso</option>
                <option value="Post">Post</option>
                <option value="o">Bis datto undefiniert ob Abholung oder Versand</option>
                <option value="AB">Zahlung bei Abholung</option>
                <option value="u">Unfrei</option>
                <option value="Zust">Zustellung</option>
                <option value="Sped">Spedition</option>
                <option value="BO">Botendienst</option>
                <option value="uu">Unfrei Unverzollt</option>
                <option value="M">Montage</option>
            </select>
        </div>
    </div>

    <!-- Versandart -->
    <div style="" class="fullFormElementDiv">
        <div style="" class="labelFormElementDiv">
            <label for="ZahlBedText">Zahlungs Bed:</label>
        </div>
        <div style="" class="inputFormElementDiv">
            <select id="ZahlBedText" name="ZahlBedText" class="inputElement">
                <option zahlTage="0" value=""></option>
                <option zahlTage="30" value = "14 Tage 2%, 30 Tage netto">14 Tage 2%, 30 Tage netto</option>
                <option zahlTage="0" value = "Vorauskasse">Vorauskasse</option>
                <option zahlTage="0" value = "zahlbar bei Abholung">zahlbar bei Abholung</option>
                <option zahlTage="30" value = "14 Tage 3%, 30 Tage netto">14 Tage 3%, 30 Tage netto</option>
                <option zahlTage="0" value = "bei Erstbestellung: zahlbar bei Abholung oder Vorauskassa">bei Erstbestellung: zahlbar bei Abholung oder Vorauskassa</option>
                <option zahlTage="0" value = "zahlbar bei Abholung oder Vorauskassa">zahlbar bei Abholung oder Vorauskassa</option>
                <option zahlTage="10" value = "10 Tage netto">10 Tage netto</option>
                <option zahlTage="0" value = "bei Erstbestellung: zahlbar bei Abholung, Vorauskassa oder Nachnahme">bei Erstbestellung: zahlbar bei Abholung, Vorauskassa oder Nachnahme</option>
                <option zahlTage="0" value = "zahlbar bei Abholung, Vorauskassa oder Nachnahme">zahlbar bei Abholung, Vorauskassa oder Nachnahme</option>
                <option zahlTage="60" value = "30 Tage 3%, 60 Tage netto">30 Tage 3%, 60 Tage netto</option>
                <option zahlTage="30" value = "10 Tage 3%, 30 Tage netto">10 Tage 3%, 30 Tage netto</option>
                <option zahlTage="30" value = "10 Tage 2%, 30 Tage netto">10 Tage 2%, 30 Tage netto</option>
                <option zahlTage="60" value = "30 Tage 5%, 60 Tage netto">30 Tage 5%, 60 Tage netto</option>
                <option zahlTage="60" value = "14 Tage 3%, 60 Tage netto">14 Tage 3%, 60 Tage netto</option>
                <option zahlTage="30" value = "21 Tage 3%, 30 Tage netto">21 Tage 3%, 30 Tage netto</option>
                <option zahlTage="90" value = "30 Tage 3%, 90 Tage netto">30 Tage 3%, 90 Tage netto</option>
                <option zahlTage="0" value = "sofort nach Rechnungserhalt ohne Abzug">sofort nach Rechnungserhalt ohne Abzug</option>
                <option zahlTage="60" value = "60 Tage netto">60 Tage netto</option>
                <option zahlTage="0" value = "bei Erstbestellung: Vorauskassa oder Nachnahme">bei Erstbestellung: Vorauskassa oder Nachnahme</option>
                <option zahlTage="0" value = "bei Erstbestellung: zahlbar bei Abholung, Vorauskassa oder Nachnahme (NN-Gebühr 20,-- + 20% MWST.)">bei Erstbestellung: zahlbar bei Abholung, Vorauskassa oder Nachnahme (NN-Gebühr 20,-- + 20% MWST.)</option>
                <option zahlTage="30" value = "21 Tage 2% Skonto, 30 Tage netto">21 Tage 2% Skonto, 30 Tage netto</option>
                <option zahlTage="0" value = "zahlbar bei Abholung, Vorauskassa oder Nachnahme (NN-Gebühr 20,-- + 20% MWST.)">zahlbar bei Abholung, Vorauskassa oder Nachnahme (NN-Gebühr 20,-- + 20% MWST.)</option>
                <option zahlTage="0" value = "Vorauskassa oder Nachnahme">Vorauskassa oder Nachnahme</option>
                <option zahlTage="0" value = "bei Erstbestellung: zahlbar bei Abholung">bei Erstbestellung: zahlbar bei Abholung</option>
                <option zahlTage="0" value = "Zahlung per Nachnahme">Zahlung per Nachnahme</option>
                <option zahlTage="60" value = "14 Tage 2%, 60 Tage netto">14 Tage 2%, 60 Tage netto</option>
                <option zahlTage="30" value = "30 Tage netto">30 Tage netto</option>
                <option zahlTage="0" value = "bei Erstbestellung: Vorauskassa">bei Erstbestellung: Vorauskassa</option>
                <option zahlTage="7" value = "7 Tage netto">7 Tage netto</option>
                <option zahlTage="30" value = "19 Tage 3%, 30 Tage netto">19 Tage 3%, 30 Tage netto</option>
                <option zahlTage="30" value = "7 Tage 5%, 14 Tage 3%, 30 Tage netto">7 Tage 5%, 14 Tage 3%, 30 Tage netto</option>
                <option zahlTage="45" value = "14 Tage 2%, 45 Tage netto">14 Tage 2%, 45 Tage netto</option>
                <option zahlTage="0" value = "nach Vereinbarung">nach Vereinbarung</option>
                <option zahlTage="0" value = "prepayment">prepayment</option>
                <option zahlTage="0" value = "zahlbar bei Zustellung">zahlbar bei Zustellung</option>
                <option zahlTage="90" value = "30 Tage 3%, 45 Tage 2%, 90 Tage netto">30 Tage 3%, 45 Tage 2%, 90 Tage netto</option>
                <option zahlTage="30" value = "7 Tage 3%, 30 Tage netto">7 Tage 3%, 30 Tage netto</option>
            </select>
        </div>
    </div>

    <!-- IhreZeichen -->
    <div style="" class="fullFormElementDiv">
        <div style="" class="labelFormElementDiv">
            <label for="IhreZeichen">IhreZeichen:</label>
        </div>
        <div style="" class="inputFormElementDiv">
            <input type="text" id="IhreZeichen" name="IhreZeichen" class="inputElement"/>
        </div>
    </div>

    <!-- Lieferzeit -->
    <div style="" class="fullFormElementDiv">
        <div style="" class="labelFormElementDiv">
            <label for="Lieferzeit">Lieferzeit:</label>
        </div>
        <div style="" class="inputFormElementDiv">
            <input type="text" id="Lieferzeit" name="Lieferzeit" class="inputElement"/>
        </div>
    </div>

    <!-- Versandvermerk -->
    <div style="" class="fullFormElementDiv">
        <div style="" class="labelFormElementDiv">
            <label for="Versandvermerk">Versandvermerk:</label>
        </div>
        <div style="" class="inputFormElementDiv">
            <input type="text" id="Versandvermerk" name="Versandvermerk" class="inputElement"/>
        </div>
    </div>

    <!-- LiefBedText -->
    <div style="" class="fullFormElementDiv">
        <div style="" class="labelFormElementDiv">
            <label for="LiefBedText">Liefer Bedingung:</label>
        </div>
        <div style="" class="inputFormElementDiv">
            <select id="LiefBedText" name="LiefBedText" class="inputElement">
                <option value=""></option>
                <option value="ab Werk, unverpackt">ab Werk, unverpackt</option>
                <option value="Versand unfrei">Versand unfrei</option>
                <option value="Frei Haus">Frei Haus</option>
                <option value="Zustellung unfrei">Zustellung unfrei</option>
                <option value="Versand unfrei - Spedition">Versand unfrei - Spedition</option>
                <option value="Versand unfrei, unverzollt">Versand unfrei, unverzollt</option>
                <option value="ab Werk">ab Werk</option>
                <option value="ab Werk, verpackt">ab Werk, verpackt</option>
            </select>
        </div>
    </div>


    <!-- BEGIN Adress Reiter Container -->
    <div style="" class="adressContainerDiv">
        <div style="" class="reiterButtonContainerDiv">
            <div id="reiterAdresse" style="" class="reiterElementDiv reiterSelectedElementDiv" onclick="onClickAdresseReiter()">
                Adresse
            </div>
            <div id="reiterLieferanschrift" style="" class="reiterElementDiv" onclick="onClickLieferanschriftReiter()">
                Lieferanschrift
            </div>
            <div id="reiterRechnungsanschrift" style="" class="reiterElementDiv" onclick="onClickRechnungsanschriftReiter()">
                Rechnungsanschrift
            </div>
        </div>
        <!-- BEGIN Adresse Reiter -->
        <div id="reiterContentAdresse" style="" class="adressReiterDiv">

            <!-- Aasprech Partner Name -->
            <div style="" class="fullFormElementDiv">
                <div style="" class="labelFormElementDiv">
                    <label for="adresseApartnerName">Name:</label>
                </div>
                <div style="" class="inputFormElementDiv">
                    <input type="text" id="adresseApartnerName" name="adresseApartnerName" class="inputElement"/>
                </div>
            </div>

            <!-- email -->
            <div style="" class="fullFormElementDiv">
                <div style="" class="labelFormElementDiv">
                    <label for="adresseemail">E-Mail:</label>
                </div>
                <div style="" class="inputFormElementDiv">
                    <input type="email" id="adresseemail" name="adresseemail" class="inputElement"/>
                </div>
            </div>

            <!-- Firma1 -->
            <div style="" class="fullFormElementDiv">
                <div style="" class="labelFormElementDiv">
                    <label for="adresseFirma1">Firma1:</label>
                </div>
                <div style="" class="inputFormElementDiv">
                    <input type="text" id="adresseFirma1" name="adresseFirma1" class="inputElement"/>
                </div>
            </div>

            <!-- Firma2 -->
            <div style="" class="fullFormElementDiv">
                <div style="" class="labelFormElementDiv">
                    <label for="adresseFirma2">Firma2:</label>
                </div>
                <div style="" class="inputFormElementDiv">
                    <input type="text" id="adresseFirma2" name="adresseFirma2" class="inputElement"/>
                </div>
            </div>

            <!-- Lkz -->
            <div style="" class="fullFormElementDiv">
                <div style="" class="labelFormElementDiv">
                    <label for="adresseLkz">Land:</label>
                </div>
                <div style="" class="inputFormElementDiv">
                    <select id="adresseLkz" name="adresseLkz" class="inputElement">
                        <option value=""></option>
                        <option value="AT">Österreich</option>
                        <option value="DE">Deutschland</option>
                        <option value="CH">Schweiz</option>
                        <option value="IT">Italien</option>
                        <option value="SI">Slowenien</option>
                        <option value="NL">Holland</option>
                        <option value="LU">Luxenburg</option>
                        <option value="HU">Ungarn</option>
                        <option value="SK">Slowakei</option>
                        <option value="ES">Spanien</option>
                        <option value="FR">Frankreich</option>
                        <option value="CZ">Tschechien</option>
                        <option value="LI">Liechtenstein</option>
                        <option value="PL">Polen</option>
                        <option value="HR">Kroatien</option>
                        <option value="RO">Rumänien</option>
                        <option value="GB">Großbritannien</option>
                    </select>
                </div>
            </div>

            <!-- Ort -->
            <div style="" class="fullFormElementDiv">
                <div style="" class="labelFormElementDiv">
                    <label for="adresseOrt">Ort:</label>
                </div>
                <div style="" class="inputFormElementDiv">
                    <input type="text" id="adresseOrt" name="adresseOrt" class="inputElement"/>
                </div>
            </div>

            <!-- Plz -->
            <div style="" class="fullFormElementDiv">
                <div style="" class="labelFormElementDiv">
                    <label for="adressePlz">Postleitzahl:</label>
                </div>
                <div style="" class="inputFormElementDiv">
                    <input type="text" id="adressePlz" name="adressePlz" class="inputElement"/>
                </div>
            </div>

            <!-- Strasse -->
            <div style="" class="fullFormElementDiv">
                <div style="" class="labelFormElementDiv">
                    <label for="adresseStrasse">Strasse:</label>
                </div>
                <div style="" class="inputFormElementDiv">
                    <input type="text" id="adresseStrasse" name="adresseStrasse" class="inputElement"/>
                </div>
            </div>

            <!-- Tel -->
            <div style="" class="fullFormElementDiv">
                <div style="" class="labelFormElementDiv">
                    <label for="adresseTel">Tel:</label>
                </div>
                <div style="" class="inputFormElementDiv">
                    <input type="tel" id="adresseTel" name="adresseTel" class="inputElement"/>
                </div>
            </div>
        </div> <!-- END Adresse Reiter -->

        <div id="reiterContentLieferanschrift" style="display: none" class="adressReiterDiv">
            TODO Lieferanschrift!!
        </div>

        <div id="reiterContentRechnungsanschrift" style="display: none" class="adressReiterDiv">
            TODO Rechnungsanschrift!!
        </div>

    </div> <!-- END Adress Reiter Container -->

    <div class="positionenHeadlineContainerDiv">
        <div class="addPositionenButtonDiv" onclick="addPosition()">
            <svg width="28" height="28" viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                <defs>
                    <linearGradient id="addGradient" x1="0" y1="0" x2="1" y2="1">
                        <stop offset="0" stop-color="#00aac8"/>
                        <stop offset="1" stop-color="#0096be"/>
                    </linearGradient>
                </defs>
                <rect x="0.5" y="0.5" width="55" height="55" rx="12" fill="url(#addGradient)" filter="url(#shadow)"/>
                <g stroke="#ffffff" stroke-width="3.6" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M28 17.5 L28 38.5" />
                    <path d="M17.5 28 L38.5 28" />
                </g>
            </svg>
        </div>
        <div class="positionenTextHeadlineDiv">Pos</div>
        <div class="positionenTextHeadlineDiv">B</div>
        <div class="positionenTextHeadlineDiv">ArtikelNr</div>
        <div class="positionenTextHeadlineDiv">Bezeichnung</div>
        <div class="positionenTextHeadlineDiv">Länge</div>
        <div class="positionenTextHeadlineDiv">Breite</div>
        <div class="positionenTextHeadlineDiv">Anzahl</div>
        <div class="positionenTextHeadlineDiv">Menge</div>
        <div class="positionenTextHeadlineDiv">Einheit</div>
        <div class="positionenTextHeadlineDiv">Preis</div>
        <div class="positionenTextHeadlineDiv">Rabatt</div>
        <div class="positionenTextHeadlineDiv">Gesamtpreis</div>
    </div>
    <!-- BEGIN POSITIONEN DIV -->
    <div id="positionenContainer" class="positionenContainerDiv">

    </div>

</div>

<button onclick="doCreateOffer()">Erstelle Angebotsdatei</button>
<br>
<textarea id="offerXml" style="width: 600px; height: 800px"></textarea>

</body>
</html>